# Service:
#   Api:
#     errorCodes: stirng[]
#     url: string
#     requestBodyType: { [key: string]: type}
#     responseDataType: { [key: string]: type}

authentication:
  authenticate:
    url: /auth/:origin
    method: POST
    passAuth: true
    requestBodyType:
      authenticationRequestData:
        idToken: string
    responseDataType:
      sessionToken: string
    errorCodes:
      - WrongIdentityType
      - NoUser
      - AuthenticationFailed
user:
  signUp:
    url: /user
    method: POST
    passAuth: true
    requestBodyType:
      username: string
      origin: string
      authenticationRequestData:
        idToken: string
    errorCodes:
      - WrongOrigin
      - AuthenticationFailed
      - NoIdentity
      - CreateUserFailed
  updateAvatar:
    url: /user/avatar
    method: PUT
    passAuth: false
    requestBodyType:
      key: string
post:
  writePost:
    url: /post
    method: POST
    passAuth: false
    requestBodyType:
      title: string
      contentS3Key: string
      boardName: string
      thumbnailKey?: string
    responseDataType:
      postId: number
  encodeMedia:
    url: /post/encode/:s3Key
    method: POST
    passAuth: false
  likePost:
    url: /post/:postId/like
    method: POST
    passAuth: false
    errorCodes:
      - NotFoundPost
  requestPresignedPostFieldsForContent:
    url: /post/presignedPost
    method: GET
    passAuth: false
    responseDataType:
      url: string
      fields: "{ [key: string]: string }"
      key: string
board:
  createBoard:
    url: /board/:boardName
    method: POST
    passAuth: false
comment:
  writeComment:
    url: /comment
    method: POST
    passAuth: false
    requestBodyType:
      contentS3Key: string
      postId: number
    responseDataType:
      commentId: number
  likeComment:
    url: /comment/:commentId/like
    method: POST
    passAuth: false
    errorCodes:
      - NotFoundComment
  writeSubComment:
    url: /comment/:parentCommentId
    method: POST
    passAuth: false
    requestBodyType:
      contentS3Key: string
      postId: number
    responseDataType:
      commentId: number
    errorCodes:
      - NotFoundParentComment
viewCount:
  increaseViewCount:
    url: /post/:postId/view
    baseServerUrl: https://viewcount.humorgrad.com
    method: POST
    passAuth: true
media:
  requestPresignedPostFieldsForMedia:
    url: /media/presignedPost
    method: GET
    passAuth: false
    responseDataType:
      url: string
      fields: "{ [key: string]: string }"
      key: string